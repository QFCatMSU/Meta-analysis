This folder contains code for the following manuscript: Song, C., S. D. Peacor, C. W. Osenberg, and J. R. Bence (2020) [An assessment of statistical methods for non-independent data in ecological meta-analysis](https://doi.org/10.1002/ecy.3184). Ecology, 101(12): e03184. Please contact the corresponding author Chao Song (chaosong@msu.edu) if you have any questions.

The repository contains three folders:
* **Simulation**: this folder contains four R code files for the simulation experiments described in the paper. The file names indicate the structure of non-independence contained in the simulation. See figure 1 in the paper for the outline of the simulation experiments. Specifically, "IIDStudy.R" is the simulations assuming independence among observed effect sizes within the same paper. "EqualStudy.R" is the simulations assuming equal correlation among observed effect sizes within the same paper. These two files combined perform simulations described in experiment 1. "UnequalStudy.R" is the simulations assuming unequal correlation among observed effect sizes within the paper but the among study variance is kept constant across papers. "UnequalStudy_VaryTau" is the simulation assuming uneequal correlation among studies within the same paper but allow the among study variance to differ from paper to paper. These two files combined performed simulations for experiment 2. Finally, "CorrrCvine.R" implements a function used to generate correlation matrix used in cases of unequal correlation. This code is called in "UnequalStudy.R" and "UnequalStudy_VaryTau.R"
* **Figure**: this folder contains four .RData files resulting from the simulation experiments and two R code files containing code to generate the figures in the paper. The name of the .RData file corresponds to the R files that generate them. "Figure_SD.R" generates figure 2 and "Figure_ErrorRate.R" generates figure 3. 
* **Appendix**: this folder contains the files and code to generate appendix figures A1 and A2 on the distribution of number of studies per paper in ecological meta-analyses. File "StudyNo_Distribution.csv" contains the frequency distribution of number of studies per paper (i.e. how many papers included in the meta-analysis contributes 1, 2, 3, 4, ... etc studies) based on 15 published meta-analysis. "StudyNo_distribution.R" contains the code that uses these data to generate figure A1 and A2.

